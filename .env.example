# === Application Runtime ===
APP_ENV=local
PORT=3000
APP_BASE_URL=http://localhost:3000
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_BACKEND_URL=http://localhost:3000/api
NEXT_PUBLIC_ENVIRONMENT_LABEL=local

# === Public web configuration (safe for client bundles) ===
NEXT_PUBLIC_APP_ENV=development
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_BACKEND_URL=http://localhost:3000/api
NEXT_PUBLIC_ENVIRONMENT_LABEL=development

# ============================================================================
# === Supabase Configuration ===
# ============================================================================
# WARNING: The keys below contain both PUBLIC and SERVER-ONLY secrets.
# - NEXT_PUBLIC_* variables are embedded in the browser bundle (client-safe)
# - Variables WITHOUT NEXT_PUBLIC_ prefix are SERVER-ONLY and must NEVER
#   be exposed to the client or used in browser code.

# Client-safe keys (embedded in browser bundle)
NEXT_PUBLIC_SUPABASE_URL=https://<project-ref>.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=<public-anon-key>

# SERVER-ONLY SECRETS - NEVER use these in client code or prefix with NEXT_PUBLIC_
SUPABASE_SERVICE_ROLE_KEY=<service-role-key> # SERVER-ONLY: Full admin access
SITE_SUPABASE_URL=https://<project-ref>.supabase.co # SERVER-ONLY: Server-side URL
SITE_SUPABASE_SECRET_KEY=<service-role-key> # SERVER-ONLY: Server-side secret

# ============================================================================
# === Onboarding & AI Configuration ===
# ============================================================================
# WARNING: Separate public vs server-only tokens carefully
# - NEXT_PUBLIC_* values can be exposed to browsers
# - Other keys must remain server-only

# Client-safe token
NEXT_PUBLIC_ONBOARDING_PUBLIC_TOKEN=<public-onboarding-token>

# SERVER-ONLY SECRETS - NEVER prefix with NEXT_PUBLIC_
ONBOARDING_API_TOKEN=<server-onboarding-token> # SERVER-ONLY: Onboarding service auth
OPENAI_API_KEY=<openai-api-key> # SERVER-ONLY: OpenAI API key

# Optional: override model or base URL
# NEXT_PUBLIC_OPENAI_BASE_URL=https://api.openai.com/v1
# AGENT_ID=gikundiro-onboarding
# NEXT_PUBLIC_ONBOARDING_ALLOW_MOCK=0
# ONBOARDING_ALLOW_MOCK=0

# ============================================================================
# === Telemetry & Observability ===
# ============================================================================
# Provide at least one of the Sentry DSNs
# NEXT_PUBLIC_SENTRY_DSN=
# SENTRY_DSN=
# SENTRY_TRACES_SAMPLE_RATE=0.1
# SENTRY_REPLAYS_SESSION_SAMPLE_RATE=0.05
# SENTRY_REPLAYS_ERROR_SAMPLE_RATE=1.0
# NEXT_PUBLIC_TELEMETRY_URL=/api/telemetry/app-state

# ============================================================================
# === Session / Auth Configuration ===
# ============================================================================
# NEXT_PUBLIC_ADMIN_SESSION_COOKIE=admin_session
# NEXT_PUBLIC_ADMIN_API_TOKEN=

# ============================================================================
# === Socket & Real-time Options ===
# ============================================================================
# NEXT_PUBLIC_SOCKET_TRANSPORT=polling
# NEXT_PUBLIC_SOCKET_PATH=

# ============================================================================
# === WhatsApp OTP Authentication ===
# ============================================================================
META_WABA_BASE_URL=https://graph.facebook.com/v21.0
META_WABA_PHONE_NUMBER_ID=<meta-phone-number-id>
META_WABA_ACCESS_TOKEN=<meta-access-token>
OTP_TEMPLATE_NAME=<template-name>
OTP_TEMPLATE_LANGUAGE=en
OTP_TTL_SEC=300
RATE_LIMIT_PER_PHONE_PER_HOUR=5
JWT_SECRET=<replace-with-at-least-32-characters>

