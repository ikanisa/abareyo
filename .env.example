# ============================================================================
# Application Runtime & Defaults
# ============================================================================
APP_ENV=local
NODE_ENV=development
PORT=3000
APP_BASE_URL=http://localhost:3000
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_BACKEND_URL=http://localhost:5000/api
NEXT_PUBLIC_ENVIRONMENT_LABEL=local
NEXT_PUBLIC_FEATURE_FLAGS={}
NEXT_PUBLIC_SOCKET_TRANSPORT=websocket
NEXT_PUBLIC_SOCKET_PATH=/socket.io
NEXT_PUBLIC_TELEMETRY_URL=/api/telemetry/app-state
NEXT_PUBLIC_SENTRY_DSN=
NEXT_PUBLIC_OPENAI_BASE_URL=https://api.openai.com/v1
NEXT_PUBLIC_ADMIN_SESSION_COOKIE=admin_session
NEXT_PUBLIC_ADMIN_API_TOKEN=
NEXT_PUBLIC_ONBOARDING_ALLOW_MOCK=1
NEXT_PUBLIC_WEB_PUSH_PUBLIC_KEY=
NEXT_PUBLIC_SUPABASE_URL=https://<project-ref>.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=<public-anon-key>
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=
NEXT_PUBLIC_ONBOARDING_PUBLIC_TOKEN=<public-onboarding-token>

# Expo / Mobile shell mirrors (falls back to NEXT_PUBLIC_* if omitted)
EXPO_PUBLIC_WEB_URL=http://localhost:3000
EXPO_PUBLIC_SUPABASE_URL=https://<project-ref>.supabase.co
EXPO_PUBLIC_SUPABASE_ANON_KEY=<public-anon-key>
EXPO_PUBLIC_SUPABASE_PUBLISHABLE_KEY=

# ============================================================================
# Supabase (Server-only secrets stay off the client bundle!)
# ============================================================================
SUPABASE_SERVICE_ROLE_KEY=<service-role-key>
SITE_SUPABASE_URL=https://<project-ref>.supabase.co
SITE_SUPABASE_SECRET_KEY=<service-role-key>
SUPABASE_SERVICE_KEY=
SUPABASE_URL=
SUPABASE_SECRET_KEY=
SITE_SUPABASE_PUBLISHABLE_KEY=
SUPABASE_PUBLISHABLE_KEY=
SUPABASE_ANON_KEY=

# ============================================================================
# Onboarding, AI, and Admin SMS tooling
# ============================================================================
ONBOARDING_API_TOKEN=<server-onboarding-token>
ONBOARDING_ALLOW_MOCK=1
OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_ONBOARDING_MODEL=gpt-4o-mini
ADMIN_SMS_PARSER_TEST_ENABLED=0
ADMIN_SMS_PARSER_TEST_RATE_LIMIT=10
ADMIN_SMS_PARSER_TEST_WINDOW_MS=60000

# ============================================================================
# Messaging, Push, and Webhooks
# ============================================================================
WEB_PUSH_PRIVATE_KEY=
WEB_PUSH_CONTACT=
EXPO_PUSH_ACCESS_TOKEN=
META_WABA_BASE_URL=https://graph.facebook.com/v21.0
META_WABA_PHONE_NUMBER_ID=<meta-phone-number-id>
META_WABA_ACCESS_TOKEN=<meta-access-token>
SMS_WEBHOOK_TOKEN=
SMS_PARSE_CONFIDENCE_THRESHOLD=0.4
MTN_MOMO_PAY_CODE=
AIRTEL_MONEY_PAY_CODE=

# ============================================================================
# OTP, Rate Limiting, and WhatsApp templates
# ============================================================================
OTP_TEMPLATE_NAME=<template-name>
OTP_TEMPLATE_LANGUAGE=en
OTP_TTL_SEC=300
RATE_LIMIT_PER_PHONE_PER_HOUR=5
JWT_SECRET=replace-with-at-least-32-characters
OTP_DEFAULT_COUNTRY_CODE=250
OTP_REDIS_PREFIX=otp
OTP_TTL_SECONDS=300
OTP_CODE_LENGTH=6
OTP_RATE_WINDOW_SECONDS=3600
OTP_RATE_MAX_PER_PHONE=10
OTP_RATE_MAX_PER_IP=10
OTP_COOLDOWN_SECONDS=30
OTP_VERIFY_WINDOW_SECONDS=300
OTP_VERIFY_MAX_ATTEMPTS=5
OTP_BLOCKED_NUMBERS=
OTP_BLOCKED_IPS=
WHATSAPP_OTP_TEMPLATE=
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_PHONE_NUMBER_ID=
OTP_WHATSAPP_TEMPLATE_NAME=
OTP_WHATSAPP_TEMPLATE_NAMESPACE=
OTP_WHATSAPP_TEMPLATE_LOCALE=en
OTP_WHATSAPP_TEMPLATE_APPROVED=true
OTP_WHATSAPP_RATE_LIMIT_DOC=

# ============================================================================
# Observability & Logging
# ============================================================================
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_REPLAYS_SESSION_SAMPLE_RATE=0.05
SENTRY_REPLAYS_ERROR_SAMPLE_RATE=1.0
SENTRY_ENVIRONMENT=local
SENTRY_DSN_MAP={}
NEXT_PUBLIC_SENTRY_DSN_MAP={}
LOG_LEVEL=info
APP_LOG_LEVEL=info
LOKI_URL=
LOKI_HOST=
LOKI_BASIC_AUTH=
LOKI_USERNAME=
LOKI_PASSWORD=
LOKI_TENANT_ID=
LOKI_BATCH_INTERVAL=5000
APP_ENABLE_CSP=0

# ============================================================================
# Feature Flags & General Toggles
# ============================================================================
AGENT_ID=
NEXT_PHASE=canary
NEXT_RUNTIME=nodejs
CI=0
E2E_API_MOCKS=0
CORS_ALLOWED_ORIGINS=http://localhost:3000
CORS_ORIGIN=http://localhost:3000
PREFLIGHT_ALLOW_MISSING_ENV=1
REPORTS_STORAGE_BUCKET=
REPORT_WORKER_INTERVAL_MS=900000
REPORT_SIGNED_URL_TTL=900

# ============================================================================
# Backend Service Configuration (Nest API)
# ============================================================================
APP_HOST=0.0.0.0
APP_PORT=3001
BACKEND_BASE_URL=http://localhost:3001
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/abareyo
DATABASE_SHADOW_URL=
REDIS_URL=redis://localhost:6379
S3_ENDPOINT=
S3_BUCKET=
S3_REGION=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_PUBLIC_BASE_URL=
ADMIN_API_TOKEN=
ADMIN_SESSION_COOKIE=admin_session
ADMIN_SESSION_SECRET=super-secret-session
ADMIN_SESSION_TTL_HOURS=48
ADMIN_SESSION_COOKIE_DOMAIN=localhost
ADMIN_DEFAULT_EMAIL=admin@example.com
ADMIN_DEFAULT_PASSWORD=change-me
ADMIN_DEFAULT_NAME=System Admin
FAN_SESSION_COOKIE=fan_session
FAN_SESSION_SECRET=fan-secret-session
FAN_SESSION_TTL_HOURS=720
FAN_SESSION_COOKIE_DOMAIN=localhost
METRICS_TOKEN=local-metrics-token

# ============================================================================
# Seed & Tooling Helpers
# ============================================================================
ADMIN_SEED_EMAIL=admin@example.com
ADMIN_SEED_PASSWORD_HASH=$argon2id$v=19$m=65536,t=3,p=2$examplehash
ADMIN_SEED_NAME=System Admin
# Report worker uses REPORTS_* values defined above

# End of template â€” copy values into your local .env before running npm scripts.
