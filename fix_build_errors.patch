diff --git a/app/cart/CartClientPage.tsx b/app/cart/CartClientPage.tsx
index 96ea0d1..b1edc8f 100644
--- a/app/cart/CartClientPage.tsx
+++ b/app/cart/CartClientPage.tsx
@@ function
-        user: {
-          name: fanProfile.name,
-          phone: sanitizedPhone || fanProfile.phone,
-          momo_number: fanProfile.momo ?? sanitizedPhone || fanProfile.phone,
-        },
+        user: {
+          name: fanProfile.name,
+          // Use the sanitized phone if available, otherwise fall back to the profile phone
+          phone: sanitizedPhone || fanProfile.phone,
+          // Prefer an explicit Momo number if set; otherwise fall back to the sanitized phone
+          // or the original phone. Parentheses are required to avoid mixing ?? and || operators.
+          momo_number: fanProfile.momo ?? (sanitizedPhone || fanProfile.phone),
+        },
 diff --git a/app/api/matches/tickets/route.ts b/app/api/matches/tickets/route.ts
index 1b6f123..5b0f982 100644
--- a/app/api/matches/tickets/route.ts
+++ b/app/api/matches/tickets/route.ts
@@
-import { getSupabase } from '../_lib/supabase';
-import { errorResponse, successResponse } from '../_lib/responses';
+// Resolve the supabase client and response helpers from the shared API library
+// Since this file is nested under `matches/tickets`, we need to go up two directories to reach `_lib`.
+import { getSupabase } from '../../_lib/supabase';
+import { errorResponse, successResponse } from '../../_lib/responses';
